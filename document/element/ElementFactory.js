'use strict'

// ================================================================================
// * Element <SDUDOC Document>
// --------------------------------------------------------------------------------
//   Designer: Lagomoro <Yongrui Wang>
//   License: MIT
// ================================================================================

// ================================================================================
// * Module dependencies
// --------------------------------------------------------------------------------
/**
 * Module dependencies.
 * @private
 */
// --------------------------------------------------------------------------------
// ================================================================================

// ================================================================================
// * ElementFactory
// --------------------------------------------------------------------------------
function ElementFactory(){
    throw new Error('This is a static class');
}
// --------------------------------------------------------------------------------
// * Constant
// --------------------------------------------------------------------------------
ElementFactory.SAPARATOR = '_';
// --------------------------------------------------------------------------------
// * Property
// --------------------------------------------------------------------------------
ElementFactory._interpreter = {};
// --------------------------------------------------------------------------------
// * Function
// --------------------------------------------------------------------------------
ElementFactory.addInterpreter = function(element){
    this._interpreter[element.TAG] = element;
};
// --------------------------------------------------------------------------------
// * New Element
// --------------------------------------------------------------------------------
ElementFactory.newElement = function(username, tag){
    return this._interpreter[tag].newElement(arguments);
};
// --------------------------------------------------------------------------------
// * Load Element
// --------------------------------------------------------------------------------
ElementFactory.loadElement = function(json_object){
    let element = this._interpreter[json_object.tag].newElement();
    element.loadJson(json_object);
    return element;
};
// ================================================================================

// ================================================================================
// * Module exports
// --------------------------------------------------------------------------------
/**
 * Module exports.
 * @public
 */
// --------------------------------------------------------------------------------
module.exports = ElementFactory;
// ================================================================================